.TH "SIGN" 1 "May 8, 1990" "Hash Signatures"
.SH NAME
sign - digitally sign a file
.SH SYNOPSIS
sign  [ - | -m message ] userKey file(s)
.SH FOR EXPERIMENTAL USE ONLY

.SH DESCRIPTION
.B Sign
digitally signs the given files in the name of the logged-in
user using the specified user key.  The secret key is regenerated by
combining the user key and the machine key (which is read from the private directory).
The signature is put into the signature file, currently created by
prefixing the string ".JZ" to the file name.
The original signed file is not altered.
.PP
If the optional -m message is given, the given message is
included in the signature and authenticated along with the
input file.  If only "-" is specified, characters are read
from standard input until EOF, included in the signature, and
authenticated along with the file.
.SH EXAMPLES
sign "My secret key" /bin/*
.PP
Signs all the files in /bin.  Modification of any of the
files (by, for example, a virus) can later be
detected by checking the signature.

sign -m "Flakey, but no viruses" Adf4vioqe3 newVersion
.PP
Signs the file newVersion, and includes the (authenticated)
message "Flakey, but no viruses" in the signature file.

sign - d3nfka90cf niftyNewHack
.br
I received this code on March 3, 1990, from M. Mouse.
He says the code is reliable, virus free, and trustworthy.
.br
^d
.PP
Signs the file "niftyNewHack" and includes the message
typed in on standard input up to the ^d (end-of-file).
The typed in message will be verified and then displayed
when the signature is checked.
.SH FILES
"sign" expects to find public checking keys in the public directory:
/net/palain/rouge/pubdir.  It expects to find two copies of the
machine key in the two directories (on two distinct disk drives):
/net/palain/rouge/privdir and
/net/palain/jaune/privdir.  An auxilliary directory that contains
auxilliary information which is not security critical is:
/net/palain/rouge/auxdir.
.SH BUGS
The user key is echoed on the command line, rather than being entered
from the terminal with echoing turned off.
.SH "SEE ALSO"
check(1) makepublickey(1) destroyoldkey(1) dumpsig(1) recoverauxinfo(1)
.SH AUTHOR
Ralph C. Merkle
Copyright (C) 1990 Xerox Corporation
All Rights Reserved
